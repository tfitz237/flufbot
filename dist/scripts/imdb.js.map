{"version":3,"sources":["../../scripts/imdb.js"],"names":["request","require","exports","imdb","bot","name","commands","isCommand","private","rtn","from","message","res","data","JSON","parse","getBody","Search","imdbID","e","console","log"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,cAAR,CAAd;;AAEAC,QAAQC,IAAR,GAAe,UAAUC,GAAV,EAAe;AAC5B,WAAO;AACHC,cAAM,aADH;AAEHC,kBAAU,CAAC,MAAD,EAAS,OAAT,CAFP;AAGHC,mBAAW,IAHR;AAIHC,iBAAS,KAJN;AAKHC,aAAK,aAACC,IAAD,EAAOC,OAAP,EAAmB;;AAEpB,gBAAIC,MAAMZ,QAAQ,KAAR,EAAc,+BAA6BW,OAA7B,GAAqC,kBAAnD,CAAV;AACA,gBAAI;AACA,oBAAIE,OAAOC,KAAKC,KAAL,CAAWH,IAAII,OAAJ,EAAX,CAAX;AACA,oBAAGH,KAAKI,MAAR,EACI,OAAO,+BAA+BJ,KAAKI,MAAL,CAAY,CAAZ,EAAeC,MAA9C,GAAqD,GAA5D;AACJ,uBAAO,iBAAP;AACH,aALD,CAKE,OAAOC,CAAP,EAAU;AACRC,wBAAQC,GAAR,CAAYF,CAAZ;AACH;AACJ;AAhBE,KAAP;AAoBD,CArBD","file":"imdb.js","sourcesContent":["let request = require('sync-request');\r\n\r\nexports.imdb = function (bot) {\r\n  return {\r\n      name: 'imdb search',\r\n      commands: ['imdb', 'movie'],\r\n      isCommand: true,\r\n      private: false,\r\n      rtn: (from, message) => {\r\n\r\n          let res = request('GET','http://www.omdbapi.com/?s='+message+'&apikey=55025472');\r\n          try {\r\n              let data = JSON.parse(res.getBody());\r\n              if(data.Search)\r\n                  return 'http://www.imdb.com/title/' + data.Search[0].imdbID+'/';\r\n              return 'No media found.';\r\n          } catch (e) {\r\n              console.log(e);\r\n          }\r\n      }\r\n  }\r\n\r\n\r\n};"]}